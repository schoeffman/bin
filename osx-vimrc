" This must be first, because it changes other options as a side effect
set nocompatible               " be iMproved
"filetype off                   " required!

"Start your vim engines!
set rtp+=~/.vim/bundle/Vundle.vim "Run Time Path to include Vundle
call vundle#rc()

"Vundle
"============================================================================================================
" Vundle Graveyard
" Bundle 'Valloric/YouCompleteMe'    Requires newer vim version
" Bundle 'mileszs/ack.vim'           Replaced by AG which is faster
" Bundle 'carlhuda/janus'            Bunch of default settings - more interested in own
"
" Brief Vundle help because I never remember
" :PluginList          - list configured plugins
" :PluginInstall(!)    - install (update) plugins
" :PluginSearch(!) foo - search (or refresh cache first) for foo
" :PluginClean(!)      - confirm (or auto-approve) removal of unused plugins

Bundle 'gmarik/vundle'
Bundle 'kien/ctrlp.vim'
Bundle 'scrooloose/nerdtree'
Bundle 'airblade/vim-gitgutter'
Bundle 'sjl/gundo.vim'
Bundle 'vim-scripts/vcscommand.vim'
Bundle 'junegunn/vim-easy-align'
Bundle 'michaeljsmith/vim-indent-object'
Bundle 'vim-scripts/PHP-correct-Indenting'
Bundle 'vim-scripts/YankRing.vim'
Bundle 'tmhedberg/matchit'
Bundle 'rking/ag.vim'
Bundle 'tpope/vim-fugitive'
Bundle 'vim-scripts/ctags.vim'
"Bundle 'arkwright/vim-whiplash'
"End Vundle Bundles


"Vim Settings
"============================================================================================================

syntax on
filetype plugin indent on

"To use the them create ln -s ~/bin/codeschool.vim ~/.vim/colors/codeschool.vim
colorscheme codeschool

" Set desired diff colors.
highlight DiffAdd guibg=DarkGreen
highlight DiffChange guibg=DarkBlue
highlight DiffText guibg=Orange
highlight DiffDelete guibg=DarkRed

"If the gui is running
set guifont=Source\ Code\ Pro\:h14  "This can be overidden by the gui's settings

"Settings I stole for Arkwright
set encoding=utf-8          " Necessary to show Unicode glyphs
set history=50              " Keep 50 lines of command line history
set undolevels=200          " Keep 200 undo levels in history
set showcmd                 " Display incomplete commands
set incsearch               " Do incremental searching
set ignorecase              " Searches should be case-insensitive by default
"set wildignore+=*.svn       " Prevent vim and its plugins from ever displaying or working with SVN files.
set cursorline              " Turn on highlighting of current line.
set clipboard=unnamed       " Sets default register to be * register, which is the system clipboard. So Cmd+C and y are now the same thing; Cmd+V and p are now the same thing! Compatible with yankring.
set guicursor+=n-v:blinkon0 " Disable cursor blinking (blinkon0) in normal (n) and visual (v) modes, but not in insert (i; omitted) mode.
set foldminlines=99999      " Disable code folding entirely. I hate that feature!

" In many terminal emulators the mouse works just fine, thus enable it.
 if has('mouse')
   set mouse=a
 endif

set nowrap          "Turn off line wrap
set number          "Show Line numbers
set dir=~/.swp   "The swap files are all stored in the specific directory


"Ignore the following directories
set wildignore+=*/target/*
set wildignore+=*/migrate/*
set wildignore+=*/tmp/*
set wildignore+=*/cq5/Config/*
set wildignore+=*/Core/target/*
set wildignore+=*/wp-includes/*
set wildignore+=*/wp-admin/*
set wildignore+=*.jpg,*.bmp,*.gif,*.png,*.jpeg,*.zip,*.rar,*.JPG,*.BMP,*.GIF,*.PNG,*.JPEG,*.ZIP,*.RAR
set wildignore+=.svn,.git
set wildignore+=*/bower_components/*
set wildignore+=*/node_modules/*

"Location of the tags file for ctags - to generate : ctags -R .
set tags=./tags,tags,~/projects/thegridto/application/tags,~/projects/cq5/tags,~projects/starauth/tags,~/projects/thegridto/

set ic "ignore case in search
set shell=zsh

"Plugin Settings
"============================================================================================================
" Easy selection of the previously pasted text.
" (We have to prevent YankRing from clobbering this mapping.)
nnoremap gp `[v`]
let g:yankring_paste_using_g = 0

" Change default yankring cycle backwards/forwards through pasted text shortcut from
" Ctrl+p to Command+p, and from Ctrl+n to Command+Shift+p.
let g:yankring_replace_n_pkey = '<D-p>'
let g:yankring_replace_n_nkey = '<D-P>'

"Ctrl P settings
let g:ctrlp_max_files = 0 "Have no limit to what ctrlp can index
let g:ctrlp_clear_cache_on_exit=0 "- maybe I do want this reset "do not clear cache on exit
"let g:ctrlp_custom_ignore = '\v[\/]\.(git|hg|svn)$' "additional custom ignore system, supposdly works with wildignore

let g:ctrlp_custom_ignore = {
  \ 'dir':  '^/target/',
  \ }

"NERD TREE
"==============================
" NERDTree defaults to showing hidden files.
let NERDTreeShowHidden=1

" Force NERDTree to default to this width (in columns)
let NERDTreeWinSize=40

" Tell NERDTree to ignore display of SVN files.
let NERDTreeIgnore=['\.svn$', '\.svn/']

" Force NERDTree to use pretty arrows
let NERDTreeDirArrows=1

let html_no_rendering=1 " Disable underlining of tabs in HTML documents.

"This should be for the grep plugin that I don't have working yet
noremap <Leader>f :Ack --ignore-dir=cache --ignore-dir=target -i 

autocmd FileType css set omnifunc=csscomplete#CompleteCSS

"Mapped Keys
"===========================================================================================================
let g:yankring_replace_n_pkey = '<C-M>'

imap <F5> <Esc>:NERDTreeToggle<CR>
"map <F4> :TlistToggle<cr> - what is this for?
noremap <F5> :NERDTree<cr>

set backspace=2

"Location of ctags and window width
let Tlist_Ctags_Cmd = "/usr/bin/ctags"
let Tlist_WinWidth = 50
"open c tags in new tab
":nnoremap <silent><Leader><C-]> <C-w><C-]><C-w>T

"Tab is 2 arrows? now it's one instead
nnoremap > >>
nnoremap < <<

" Add keyboard shortcuts
noremap <Leader>. gt
noremap <Leader>, gT
noremap <Leader>w :w<cr>
noremap <Leader>q :q<cr>
noremap <Leader>t :tabnew<cr>
noremap U <C-r> "redo is now capital u


" Easy selection of the previously pasted text.
" (We have to prevent YankRing from clobbering this mapping.)
nnoremap gp `[v`]
let g:yankring_paste_using_g = 0

" Change default yankring cycle backwards/forwards through pasted text shortcut from
" Ctrl+p to Command+p, and from Ctrl+n to Command+Shift+p.
let g:yankring_replace_n_pkey = '<D-p>'
let g:yankring_replace_n_nkey = '<D-P>'

"Tabbing
"===========================================================================================================
" size of a hard tabstop
set tabstop=3

" size of an 'indent'
set shiftwidth=3

" a combination of spaces and tabs are used to simulate tab stops at a width
" other than the (hard)tabstop
set softtabstop=3

" make "tab" insert indents instead of tabs at the beginning of a line
set smarttab

" always uses spaces instead of tab characters
set expandtab

retab "this will cause all previous tabs to be converted to spaces

cd ~/projects
